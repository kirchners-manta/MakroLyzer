def dihedral(self, node1, node2, node3, node4):
"""
Calculate the dihedral angle between four nodes in the graph.

Args:
    node1 (int): The index of the first node.
    node2 (int): The index of the second node.
    node3 (int): The index of the third node.
    node4 (int): The index of the fourth node.

Returns:
    float: The dihedral angle in degrees.
"""
vec1 = self.vector(node1, node2)
vec2 = self.vector(node2, node3)
vec3 = self.vector(node3, node4)

# Calculate the normal vectors
normal1 = np.cross(vec1, vec2)
normal2 = np.cross(vec2, vec3)

# Calculate the angle between the normals
angle = np.arctan2(np.linalg.norm(np.cross(normal1, normal2)), np.dot(normal1, normal2))

return np.degrees(angle)